<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Find the neighbours for single cell. — find_neighbours_sc • bixverse</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Find the neighbours for single cell. — find_neighbours_sc"><meta name="description" content='This function will generate the kNNs based on a given embedding (atm,
only option is PCA). Two different algorithms are implemented with different
speed and accuracy to approximate the nearest neighbours. "annoy" is more
rapid and based on the Approximate Nearest Neigbours Oh Yeah algorithm,
whereas "hnsw" implements a Hierarchical Navigatable Small Worlds vector
search that is slower, but more precise. Subsequently, the kNN data will
be used to generate an sNN igraph for clustering methods.'><meta property="og:description" content='This function will generate the kNNs based on a given embedding (atm,
only option is PCA). Two different algorithms are implemented with different
speed and accuracy to approximate the nearest neighbours. "annoy" is more
rapid and based on the Approximate Nearest Neigbours Oh Yeah algorithm,
whereas "hnsw" implements a Hierarchical Navigatable Small Worlds vector
search that is slower, but more precise. Subsequently, the kNN data will
be used to generate an sNN igraph for clustering methods.'></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">bixverse</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.3.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../articles/index.html">Articles</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Find the neighbours for single cell.</h1>

      <div class="d-none name"><code>find_neighbours_sc.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function will generate the kNNs based on a given embedding (atm,
only option is PCA). Two different algorithms are implemented with different
speed and accuracy to approximate the nearest neighbours. <code>"annoy"</code> is more
rapid and based on the <code>Approximate Nearest Neigbours Oh Yeah</code> algorithm,
whereas <code>"hnsw"</code> implements a <code>Hierarchical Navigatable Small Worlds</code> vector
search that is slower, but more precise. Subsequently, the kNN data will
be used to generate an sNN igraph for clustering methods.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">find_neighbours_sc</span><span class="op">(</span></span>
<span>  <span class="va">object</span>,</span>
<span>  embd_to_use <span class="op">=</span> <span class="st">"pca"</span>,</span>
<span>  no_embd_to_use <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  neighbours_params <span class="op">=</span> <span class="fu"><a href="params_sc_neighbours.html">params_sc_neighbours</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  seed <span class="op">=</span> <span class="fl">42L</span>,</span>
<span>  .verbose <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-object">object<a class="anchor" aria-label="anchor" href="#arg-object"></a></dt>
<dd><p><code>single_cell_exp</code> class.</p></dd>


<dt id="arg-embd-to-use">embd_to_use<a class="anchor" aria-label="anchor" href="#arg-embd-to-use"></a></dt>
<dd><p>String. The embedding to use. Atm, the only option is
<code>"pca"</code>.</p></dd>


<dt id="arg-no-embd-to-use">no_embd_to_use<a class="anchor" aria-label="anchor" href="#arg-no-embd-to-use"></a></dt>
<dd><p>Optional integer. Number of embedding dimensions to
use. If <code>NULL</code> all will be used.</p></dd>


<dt id="arg-neighbours-params">neighbours_params<a class="anchor" aria-label="anchor" href="#arg-neighbours-params"></a></dt>
<dd><p>List. Output of <code><a href="params_sc_neighbours.html">params_sc_neighbours()</a></code>.
A list with the following items:</p><ul><li><p>k - Integer. Number of neighbours to identify.</p></li>
<li><p>n_trees -  Integer. Number of trees to use for the <code>annoy</code> algorithm.
The higher, the longer the algorithm takes, but the more precise the
approximated nearest neighbours.</p></li>
<li><p>search_budget - Integer. Search budget per tree for the <code>annoy</code>
algorithm. The higher, the longer the algorithm takes, but the more precise
the approximated nearest neighbours.</p></li>
<li><p>knn_algorithm - String. One of <code>c("annoy", "hnsw")</code>. <code>"hnsw"</code> takes
longer, is more precise and more memory friendly. <code>"annoy"</code> is faster, less
precise and will take more memory.</p></li>
<li><p>ann_dist - String. One of <code>c("cosine", "euclidean")</code>.</p></li>
<li><p>full_snn - Boolean. Shall the sNN graph be generated across all
cells (standard in the <code>bluster</code> package.) Defaults to <code>FALSE</code>.</p></li>
<li><p>pruning - Value below which the weight in the sNN graph is set to 0.</p></li>
<li><p>snn_similarity - String. One of <code>c("rank", "jaccard")</code>. Defines how
the weight form the SNN graph is calculated. For details, please see
<code><a href="params_sc_neighbours.html">params_sc_neighbours()</a></code>.</p></li>
</ul></dd>


<dt id="arg-seed">seed<a class="anchor" aria-label="anchor" href="#arg-seed"></a></dt>
<dd><p>Integer. For reproducibility.</p></dd>


<dt id="arg--verbose">.verbose<a class="anchor" aria-label="anchor" href="#arg--verbose"></a></dt>
<dd><p>Boolean. Controls verbosity and returns run times.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>The object with added KNN matrix.</p>
    </div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Gregor Lueg.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

