<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Generate meta cells (hdWGCNA method) — rs_get_metacells • bixverse</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Generate meta cells (hdWGCNA method) — rs_get_metacells"><meta name="description" content="This function implements the approach from Morabito, et al.
to generate meta cells. You can provide an already pre-computed kNN matrix
or an embedding to regenerate the kNN matrix with specified parameters in
the meta_cell_params. If knn_mat is provided, this one will be used. You
need to at least provide knn_mat or embd!"><meta property="og:description" content="This function implements the approach from Morabito, et al.
to generate meta cells. You can provide an already pre-computed kNN matrix
or an embedding to regenerate the kNN matrix with specified parameters in
the meta_cell_params. If knn_mat is provided, this one will be used. You
need to at least provide knn_mat or embd!"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">bixverse</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.3.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../articles/index.html">Articles</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Generate meta cells (hdWGCNA method)</h1>

      <div class="d-none name"><code>rs_get_metacells.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>This function implements the approach from Morabito, et al.
to generate meta cells. You can provide an already pre-computed kNN matrix
or an embedding to regenerate the kNN matrix with specified parameters in
the meta_cell_params. If <code>knn_mat</code> is provided, this one will be used. You
need to at least provide <code>knn_mat</code> or <code>embd</code>!</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">rs_get_metacells</span><span class="op">(</span></span>
<span>  <span class="va">f_path</span>,</span>
<span>  <span class="va">knn_mat</span>,</span>
<span>  <span class="va">embd</span>,</span>
<span>  <span class="va">cells_to_keep</span>,</span>
<span>  <span class="va">cells_to_use</span>,</span>
<span>  <span class="va">meta_cell_params</span>,</span>
<span>  <span class="va">target_size</span>,</span>
<span>  <span class="va">seed</span>,</span>
<span>  <span class="va">verbose</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-f-path">f_path<a class="anchor" aria-label="anchor" href="#arg-f-path"></a></dt>
<dd><p>String. Path to the <code>counts_cells.bin</code> file.</p></dd>


<dt id="arg-knn-mat">knn_mat<a class="anchor" aria-label="anchor" href="#arg-knn-mat"></a></dt>
<dd><p>Optional integer matrix. The kNN matrix you wish to use
for the generation of the meta cells. This function expects 0-indices!</p></dd>


<dt id="arg-embd">embd<a class="anchor" aria-label="anchor" href="#arg-embd"></a></dt>
<dd><p>Optional numerical matrix. The embedding matrix (for example
PCA embedding) you wish to use for the generation of the kNN graph that
is used subsequently for aggregation of the meta cells.</p></dd>


<dt id="arg-cells-to-keep">cells_to_keep<a class="anchor" aria-label="anchor" href="#arg-cells-to-keep"></a></dt>
<dd><p>Optional indices of the cells to keep, i.e., the
cells used for the generation of the embedding.</p></dd>


<dt id="arg-cells-to-use">cells_to_use<a class="anchor" aria-label="anchor" href="#arg-cells-to-use"></a></dt>
<dd><p>Optional indices of cells to use for meta cell
generation. Useful if you wish to generate meta cells in specific cell
types. If this is provided, the kNN graph will be regenerated.</p></dd>


<dt id="arg-meta-cell-params">meta_cell_params<a class="anchor" aria-label="anchor" href="#arg-meta-cell-params"></a></dt>
<dd><p>A list containing the meta cell parameters.</p></dd>


<dt id="arg-target-size">target_size<a class="anchor" aria-label="anchor" href="#arg-target-size"></a></dt>
<dd><p>Numeric. Target library size for re-normalisation of
the meta cells. Typically <code>1e4</code>.</p></dd>


<dt id="arg-seed">seed<a class="anchor" aria-label="anchor" href="#arg-seed"></a></dt>
<dd><p>Integer. For reproducibility purposes.</p></dd>


<dt id="arg-verbose">verbose<a class="anchor" aria-label="anchor" href="#arg-verbose"></a></dt>
<dd><p>Boolean. Controls verbosity of the function.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A list with the following elements:</p><ul><li><p>assignments - A list containing assignment information with elements:
assignments (vector), metacells (list), unassigned (vector), n_metacells,
n_cells, n_unassigned</p></li>
<li><p>aggregated - A list with indptr, indices, raw_counts, norm_counts,
nrow, ncol in sparse format.</p></li>
</ul></div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Gregor Lueg.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer></div>





  </body></html>

